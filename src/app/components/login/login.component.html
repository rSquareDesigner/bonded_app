<app-navbar></app-navbar>

<div class="row main_row">
    <div class="col-2" style="padding:0;">
        <app-side-menu></app-side-menu>
    </div>

    <div class="col-10" style="padding:0;">

        <!--
<section class="sub_navbar">
    <app-sub-menu [color]="'blue'"></app-sub-menu>
</section>
-->
        <section class="form_section" style="padding-top: 100px;">
            <div class="form_container">
                <h1 class="golden_label_large" style="margin-bottom:30px">Login</h1>
                <form id="loginForm" class="form_container" [formGroup]="login_form" validate
                    (ngSubmit)="loginUser(login_form)">
                    <div class="row">
                        <div class="col-12 form_input_container">
                            <input type="text" formControlName="email" class="form-control" placeholder="Email">
                            <div *ngIf="form_submitted == true && login_form.controls['email'].errors"
                                class="invalid-feedback invalid_feedback" style="display:block;">
                                <div *ngIf="login_form.controls['email'].errors['required']"><em>Enter your email</em>
                                </div>
                                <div *ngIf="login_form.controls['email'].errors['pattern']"><em>Enter a valid email</em>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 form_input_container">
                            <input type="password" formControlName="password" class="form-control"
                                placeholder="Password">
                            <div *ngIf="form_submitted == true && login_form.controls['password'].errors"
                                class="invalid-feedback invalid_feedback" style="display:block;">
                                <div *ngIf="login_form.controls['password'].errors['required']"><em>Enter your
                                        password</em></div>
                            </div>
                            <div class="text-end">
                                <button type="button" ngNoForm class="btn btn-default button_discrete" style="font-size:14px;"
                                    (click)="forgotPassword()">Forgot password</button>
                            </div>
                        </div>
                    </div>
                    <div class="text-center" style="padding:50px 0;">
                        <button type="submit" class="btn btn-default button_primary continue_button">CONTINUE</button>
                    </div>
                </form>
                <div class="text-center">
                    <i class="fa fa-facebook auth_option_logo" style="padding: 20px 27px;"></i>
                    <i class="fa fa-apple auth_option_logo" style="padding: 20px 23px;"></i>
                    <i class="fa fa-google auth_option_logo"></i>
                </div>
            </div>
        </section>
        <app-footer></app-footer>

    </div>
</div>

<div class="modal fade" id="forgotPasswordModal" tabindex="-1" role="dialog" [hidden]="" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body modal_body" style="min-height: 365px;">

                <button class="btn btn-default modal_close_button" data-dismiss="modal"
                    (click)="closeModal('forgotPasswordModal')">
                    <i class="fa fa-times modal_close_icon"></i>
                </button>

                <h1 class="modal_title">Reset your password</h1>
                <p style="padding: 20px 25px 5px 25px;">Please enter your email address and we'll send you a link to
                    reset your password.</p>
                <div class="form_container">
                    <div class="formc">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="text" [(ngModel)]="email" class="form-control"
                                (change)="reset_password_form_submitted = false;" (ngModelChange)="clearLoginAlerts()">
                            <div *ngIf="invalid_email" class="alert_message">{{invalid_email}}</div>
                        </div>

                        <div class="form-group text-center" style="padding:30px 0;">
                            <button type="submit" class="btn btn-default button_primary" style="width:250px"
                                (click)="sendForgotPassword();">Send</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="sendForgotPasswordSuccessModal" tabindex="-1" role="dialog" [hidden]="" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body modal_body" style="min-height: 365px;">

                <button class="btn btn-default modal_close_button" data-dismiss="modal"
                    (click)="closeModal('sendForgotPasswordSuccessModal')">
                    <i class="fa fa-times modal_close_icon"></i>
                </button>

                <p style="padding:50px 0;">
                    <em>We have sent an email to {{email}} with a link to reset your password.</em>
                </p>
                <div class="text-center">
                    <button class="btn btn-default modal_primary_button" style="width:250px"
                    (click)="closeModal('sendForgotPasswordSuccessModal')">Ok</button>
                </div> 
            </div>
        </div>
    </div>
</div>